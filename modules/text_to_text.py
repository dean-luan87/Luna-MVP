"""
æ–‡æœ¬ç†è§£æ¨¡å—ï¼ˆtext_to_text.pyï¼‰
--------------------------------
åŠŸèƒ½ï¼š
1. æ¥æ”¶è¯­éŸ³è¯†åˆ«ç»“æœæ–‡æœ¬ï¼›
2. åŸºäºå…³é”®è¯å’Œä¸Šä¸‹æ–‡è¿›è¡Œç®€å•é€»è¾‘å›å¤ï¼ˆç¦»çº¿æ¨¡å¼ï¼‰ï¼›
3. æœªæ¥å¯åˆ‡æ¢ä¸ºè°ƒç”¨å¤§æ¨¡å‹APIçš„åœ¨çº¿æ¨¡å¼ã€‚
"""

import random

class TextResponder:
    def __init__(self):
        # å¯æ‰©å±•çš„å…³é”®è¯åº“
        self.reply_map = {
            "ä½ å¥½": ["ä½ å¥½å‘€ï½", "å—¨ï¼Œæˆ‘åœ¨è¿™å„¿å‘¢ã€‚", "å“ˆå–½ï¼å¾ˆé«˜å…´å¬åˆ°ä½ çš„å£°éŸ³ã€‚"],
            "å¤©æ°”": ["ä»Šå¤©å¤©æ°”ä¸é”™ï¼Œé€‚åˆå‡ºå»èµ°èµ°ã€‚", "çœ‹èµ·æ¥å¤–é¢æœ‰ç‚¹é˜´ï¼Œè®°å¾—å¸¦ä¼ã€‚"],
            "ä½ æ˜¯è°": ["æˆ‘æ˜¯ Lunaï¼Œä¸€ä¸ªæ­£åœ¨æˆé•¿çš„AIã€‚", "æˆ‘æ˜¯ä½ çš„è¯­éŸ³åŠ©æ‰‹ Lunaã€‚"],
            "å†è§": ["å†è§å•¦ï½", "ä¸‹æ¬¡å†èŠã€‚", "æœŸå¾…æˆ‘ä»¬çš„ä¸‹ä¸€æ¬¡å¯¹è¯ã€‚"]
        }

    def get_reply(self, text: str) -> str:
        """æ ¹æ®è¾“å…¥æ–‡æœ¬ç”Ÿæˆå›å¤"""
        if not text.strip():
            return "æˆ‘æ²¡å¬æ¸…æ¥šï¼Œå¯ä»¥å†è¯´ä¸€éå—ï¼Ÿ"

        # éå†å…³é”®è¯
        for key, replies in self.reply_map.items():
            if key in text:
                return random.choice(replies)
        
        # é»˜è®¤å›å¤
        return random.choice([
            "æˆ‘æ˜ç™½äº†ï½", 
            "è¿™å¬èµ·æ¥æŒºæœ‰æ„æ€çš„ã€‚",
            "ä½ æƒ³èŠç‚¹åˆ«çš„å—ï¼Ÿ",
            "æˆ‘åœ¨è®¤çœŸå¬å“¦ã€‚"
        ])


if __name__ == "__main__":
    bot = TextResponder()
    while True:
        user_input = input("ğŸ¤ ä½ è¯´ï¼š")
        if user_input.lower() in ["exit", "quit", "å†è§"]:
            print("ğŸ‘‹ å†è§ï½")
            break
        print("ğŸ¤– Lunaï¼š", bot.get_reply(user_input))
