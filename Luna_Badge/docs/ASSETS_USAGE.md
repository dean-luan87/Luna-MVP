# Assetsèµ„æºä½¿ç”¨æŒ‡å—

**æ—¥æœŸ**: 2025-10-30  
**ç‰ˆæœ¬**: v1.1  
**çŠ¶æ€**: âœ… å®Œæˆ

---

## ğŸ“¦ èµ„æºåŒ…å†…å®¹

`assets_package.zip` åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š

```
assets_package.zip
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ fonts/
â”‚   â”‚   â”œâ”€â”€ handwriting.ttc          # ä¸­æ–‡å­—ä½“ï¼ˆmacOSåæ–‡é»‘ä½“ï¼‰
â”‚   â”‚   â””â”€â”€ README_FONTS.txt         # å­—ä½“è¯´æ˜
â”‚   â”œâ”€â”€ icons/
â”‚   â”‚   â””â”€â”€ tabler/
â”‚   â”‚       â”œâ”€â”€ toilet.svg           # å«ç”Ÿé—´å›¾æ ‡
â”‚   â”‚       â”œâ”€â”€ elevator.svg         # ç”µæ¢¯å›¾æ ‡
â”‚   â”‚       â”œâ”€â”€ stairs.svg           # æ¥¼æ¢¯å›¾æ ‡
â”‚   â”‚       â”œâ”€â”€ door-enter.svg       # å…¥å£å›¾æ ‡
â”‚   â”‚       â”œâ”€â”€ hospital.svg         # åŒ»é™¢å›¾æ ‡
â”‚   â”‚       â”œâ”€â”€ building.svg         # å»ºç­‘å›¾æ ‡
â”‚   â”‚       â”œâ”€â”€ map-pin.svg          # ä½ç½®å›¾æ ‡
â”‚   â”‚       â”œâ”€â”€ bus.svg              # å…¬äº¤å›¾æ ‡
â”‚   â”‚       â”œâ”€â”€ subway.svg           # åœ°é“å›¾æ ‡
â”‚   â”‚       â”œâ”€â”€ home.svg             # å®¶å›¾æ ‡
â”‚   â”‚       â”œâ”€â”€ info-square.svg      # ä¿¡æ¯å›¾æ ‡
â”‚   â”‚       â”œâ”€â”€ user.svg             # ç”¨æˆ·å›¾æ ‡
â”‚   â”‚       â””â”€â”€ wheelchair.svg       # æ— éšœç¢å›¾æ ‡
â”‚   â””â”€â”€ textures/
â”‚       â””â”€â”€ paper_background.png     # çº¸å¼ çº¹ç†èƒŒæ™¯
```

---

## ğŸ“ å­—ä½“ä½¿ç”¨è¯´æ˜

### å­—ä½“æ–‡ä»¶

**ä½ç½®**: `assets/fonts/handwriting.ttc`

**æ¥æº**: macOSç³»ç»Ÿå­—ä½“ï¼ˆSTHeiti Light.ttcï¼‰

**ç”¨é€”**: 
- æ¸²æŸ“ä¸­æ–‡èŠ‚ç‚¹æ ‡ç­¾
- æ˜¾ç¤ºè·¯å¾„åç§°
- ç»˜åˆ¶åŒºåŸŸæ ‡é¢˜

### å­—ä½“åŠ è½½

ç³»ç»Ÿä¼šè‡ªåŠ¨æŒ‰ä»¥ä¸‹é¡ºåºå°è¯•åŠ è½½ï¼š

```python
font_paths = [
    "assets/fonts/handwriting.ttf",    # ä¼˜å…ˆ
    "assets/fonts/handwriting.ttc",    # macOSå­—ä½“
    "/System/Library/Fonts/PingFang.ttc",
    "/System/Library/Fonts/STHeiti Light.ttc",
]
```

### è‡ªå®šä¹‰å­—ä½“

å¦‚éœ€ä½¿ç”¨å…¶ä»–å­—ä½“ï¼š

1. **ä¸‹è½½å­—ä½“æ–‡ä»¶**
   - æ¨èï¼šç«™é…·é«˜ç«¯é»‘ã€ç«™é…·å¿«ä¹ä½“
   - æ¥æºï¼šzcool.com

2. **æ›¿æ¢å­—ä½“æ–‡ä»¶**
   ```bash
   # å°†ä¸‹è½½çš„å­—ä½“æ–‡ä»¶é‡å‘½å
   mv downloaded_font.ttf assets/fonts/handwriting.ttf
   ```

3. **é‡å¯ç³»ç»Ÿ**
   - å­—ä½“ä¼šè‡ªåŠ¨åŠ è½½

### å­—ä½“ç‰¹æ€§

- âœ… æ”¯æŒä¸­æ–‡æ˜¾ç¤º
- âœ… æ‰‹å†™é£æ ¼å‹å¥½
- âœ… å•†ç”¨è®¸å¯
- âœ… è‡ªåŠ¨Fallback

---

## ğŸ¨ å›¾æ ‡ä½¿ç”¨è¯´æ˜

### å›¾æ ‡åº“

**ä½ç½®**: `assets/icons/tabler/`

**æ¥æº**: Tabler Icons (MIT License)

**æ ¼å¼**: SVG

### å›¾æ ‡æ˜ å°„

åœ¨ `emotional_map_card_generator.py` ä¸­å®šä¹‰äº†èŠ‚ç‚¹ç±»å‹åˆ°å›¾æ ‡åç§°çš„æ˜ å°„ï¼š

```python
icon_name_map = {
    "destination": "map-pin",
    "waypoint": "map-pin",
    "entrance": "door-enter",
    "toilet": "toilet",
    "elevator": "elevator",
    "stairs": "stairs",
    "building": "building",
    "hospital": "hospital",
    "bus_stop": "bus",
    "subway_station": "subway",
}
```

### æ·»åŠ æ–°å›¾æ ‡

1. **ä¸‹è½½SVGæ–‡ä»¶**
   ```bash
   # ä»Tabler Iconsä¸‹è½½SVG
   curl -o assets/icons/tabler/new_icon.svg \
     "https://tabler.io/icons/icon/new-icon.svg"
   ```

2. **åœ¨ä»£ç ä¸­å¼•ç”¨**
   ```python
   icon_name_map["new_type"] = "new_icon"
   ```

### å›¾æ ‡ç‰¹æ€§

- âœ… çŸ¢é‡æ ¼å¼ï¼ˆå¯ç¼©æ”¾ï¼‰
- âœ… MITæˆæƒï¼ˆå•†ç”¨å…è´¹ï¼‰
- âœ… ç»Ÿä¸€é£æ ¼
- âœ… æ”¯æŒè‡ªå®šä¹‰é¢œè‰²

---

## ğŸŒ èƒŒæ™¯çº¹ç†ä½¿ç”¨è¯´æ˜

### çº¹ç†æ–‡ä»¶

**ä½ç½®**: `assets/textures/paper_background.png`

**è§„æ ¼**: 2400x1800px, PNG

**å†…å®¹**: ç±³é»„è‰²çº¸å¼ çº¹ç†

### çº¹ç†ç”Ÿæˆ

çº¹ç†ä½¿ç”¨PILç”Ÿæˆï¼ŒåŒ…å«ï¼š

1. **åŸºç¡€é¢œè‰²**: RGB(249, 247, 238) - ç±³é»„è‰²
2. **å™ªå£°æ•ˆæœ**: éšæœºå™ªå£°ï¼ˆ0-30ï¼‰
3. **ç½‘æ ¼çº¿**: 50pxé—´è·æµ…è‰²çº¿
4. **é«˜æ–¯æ¨¡ç³Š**: radius=2.0

### è‡ªå®šä¹‰çº¹ç†

å¦‚éœ€ä½¿ç”¨è‡ªå®šä¹‰çº¹ç†ï¼š

```bash
# 1. å‡†å¤‡çº¹ç†å›¾ç‰‡ï¼ˆ2400x1800æˆ–æ›´å¤§ï¼‰
cp your_texture.png assets/textures/paper_background.png

# 2. ç³»ç»Ÿä¼šè‡ªåŠ¨åŠ è½½
```

### çº¹ç†ç‰¹æ€§

- âœ… çœŸå®çº¸å¼ è´¨æ„Ÿ
- âœ… ä½å¯¹æ¯”åº¦ï¼ˆä¸å¹²æ‰°å†…å®¹ï¼‰
- âœ… åŠé€æ˜å åŠ 
- âœ… è‡ªåŠ¨é€‚é…å°ºå¯¸

---

## ğŸ”§ ä»£ç é›†æˆ

### å­—ä½“åŠ è½½

```python
from core.emotional_map_card_generator import EmotionalMapCardGenerator

# è‡ªåŠ¨åŠ è½½å­—ä½“
generator = EmotionalMapCardGenerator()
# å­—ä½“è·¯å¾„: assets/fonts/handwriting.ttc
```

### å›¾æ ‡åŠ è½½

```python
# è‡ªåŠ¨åŠ è½½SVGå›¾æ ‡
icon_img = generator._load_svg_icon("toilet", size=48)
# å›¾æ ‡è·¯å¾„: assets/icons/tabler/toilet.svg
```

### çº¹ç†åŠ è½½

```python
# è‡ªåŠ¨åŠ è½½èƒŒæ™¯çº¹ç†
img = generator._apply_paper_texture(img)
# çº¹ç†è·¯å¾„: assets/textures/paper_background.png
```

---

## ğŸ“Š èµ„æºç»Ÿè®¡

### æ–‡ä»¶å¤§å°

| èµ„æº | å¤§å° | è¯´æ˜ |
|------|------|------|
| fonts/handwriting.ttc | ~24MB | macOSå­—ä½“ï¼ˆå‹ç¼©åçº¦12MBï¼‰ |
| icons/tabler/*.svg | ~5KB | 13ä¸ªSVGå›¾æ ‡ |
| textures/paper_background.png | ~2MB | 2400x1800 PNGï¼ˆå‹ç¼©åçº¦200KBï¼‰ |
| **æ€»è®¡** | **~28MB** | **å‹ç¼©ZIPåŒ…** |

### èµ„æºæ•°é‡

- å­—ä½“æ–‡ä»¶: 1ä¸ª
- SVGå›¾æ ‡: 13ä¸ª
- çº¹ç†æ–‡ä»¶: 1ä¸ª

---

## ğŸš€ éƒ¨ç½²è¯´æ˜

### éƒ¨ç½²æ­¥éª¤

1. **è§£å‹èµ„æºåŒ…**
   ```bash
   cd Luna_Badge
   unzip assets_package.zip
   ```

2. **éªŒè¯èµ„æº**
   ```bash
   ls -lh assets/fonts/
   ls -lh assets/icons/tabler/
   ls -lh assets/textures/
   ```

3. **æµ‹è¯•åœ°å›¾ç”Ÿæˆ**
   ```bash
   python3 test_emotional_map_enhanced.py
   ```

### ç¯å¢ƒè¦æ±‚

- PIL/Pillow
- numpy
- matplotlib
- cairosvg (å¯é€‰ï¼Œç”¨äºSVGæ¸²æŸ“)

### å®‰è£…ä¾èµ–

```bash
pip install pillow numpy matplotlib cairosvg
```

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜1: ä¸­æ–‡å­—ä½“æ— æ³•æ˜¾ç¤º

**ç—‡çŠ¶**: ä¸­æ–‡æ˜¾ç¤ºä¸ºæ–¹å—

**è§£å†³**:
1. æ£€æŸ¥å­—ä½“æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. å°è¯•ä½¿ç”¨ç³»ç»Ÿå­—ä½“fallback
3. ä¸‹è½½ç«™é…·å­—ä½“æ‰‹åŠ¨æ›¿æ¢

### é—®é¢˜2: SVGå›¾æ ‡ä¸æ˜¾ç¤º

**ç—‡çŠ¶**: èŠ‚ç‚¹æ²¡æœ‰å›¾æ ‡

**è§£å†³**:
1. æ£€æŸ¥å›¾æ ‡æ–‡ä»¶æ˜¯å¦åœ¨æ­£ç¡®è·¯å¾„
2. å®‰è£…cairosvg: `pip install cairosvg`
3. æ£€æŸ¥å›¾æ ‡åç§°æ˜ å°„æ˜¯å¦æ­£ç¡®

### é—®é¢˜3: èƒŒæ™¯çº¹ç†ä¸æ˜¾ç¤º

**ç—‡çŠ¶**: èƒŒæ™¯çº¯è‰²æ— çº¹ç†

**è§£å†³**:
1. æ£€æŸ¥PNGæ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. ç¡®è®¤æ–‡ä»¶æ ¼å¼æ­£ç¡®
3. æ£€æŸ¥çº¹ç†é€æ˜åº¦è®¾ç½®

---

## âœ… éªŒè¯æ¸…å•

### å­—ä½“éªŒè¯

- [ ] ä¸­æ–‡å­—ç¬¦æ­£å¸¸æ˜¾ç¤º
- [ ] æ ‡é¢˜ä½¿ç”¨æŒ‡å®šå­—ä½“
- [ ] æ ‡ç­¾æ¸…æ™°å¯è¯»

### å›¾æ ‡éªŒè¯

- [ ] æ‰€æœ‰å›¾æ ‡ç±»å‹éƒ½æœ‰å¯¹åº”SVG
- [ ] å›¾æ ‡å¤§å°æ­£ç¡®ï¼ˆ48x48ï¼‰
- [ ] å›¾æ ‡é€æ˜èƒŒæ™¯æ­£å¸¸

### çº¹ç†éªŒè¯

- [ ] èƒŒæ™¯çº¸å¼ è´¨æ„Ÿå¯è§
- [ ] çº¹ç†ä¸å¹²æ‰°åœ°å›¾å†…å®¹
- [ ] æ•´ä½“è§†è§‰åè°ƒ

---

## ğŸ“„ æˆæƒä¿¡æ¯

### å­—ä½“æˆæƒ

**STHeiti Light.ttc**: macOSç³»ç»Ÿå­—ä½“
**PingFang.ttc**: macOSç³»ç»Ÿå­—ä½“
**handwriting.ttf**: éœ€è‡ªè¡Œä¸‹è½½å•†ç”¨è®¸å¯å­—ä½“

### å›¾æ ‡æˆæƒ

**Tabler Icons**: MIT License
- å¯å•†ç”¨
- å¯ä¿®æ”¹
- éœ€ä¿ç•™ç‰ˆæƒå£°æ˜

å‚è€ƒ: https://tabler.io/icons

---

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v1.1 (2025-10-30)

- âœ… é›†æˆTabler Icons
- âœ… æ·»åŠ ä¸­æ–‡å­—ä½“æ”¯æŒ
- âœ… ç”Ÿæˆçº¸å¼ çº¹ç†
- âœ… åˆ›å»ºèµ„æºåŒ…ZIP
- âœ… ç¼–å†™ä½¿ç”¨æ–‡æ¡£

---

**æ›´æ–°æ—¥æœŸ**: 2025-10-30  
**ç‰ˆæœ¬**: v1.1  
**çŠ¶æ€**: âœ… å®Œæˆ

---

*Luna Badge - Assetsèµ„æºä½¿ç”¨æŒ‡å—*

