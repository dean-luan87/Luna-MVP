# åµŒå…¥å¼TTSè§£å†³æ–¹æ¡ˆ - è§£å†³Edge-TTSç½‘ç»œä¾èµ–é—®é¢˜

## ğŸš¨ é—®é¢˜åˆ†æ

### Edge-TTSåœ¨åµŒå…¥å¼ç¡¬ä»¶ä¸Šçš„é—®é¢˜ï¼š
1. **ç½‘ç»œä¾èµ–**ï¼šEdge-TTSéœ€è¦è”ç½‘è®¿é—®Microsoftè¯­éŸ³æœåŠ¡
2. **ç½‘ç»œä¸ç¨³å®š**ï¼šåµŒå…¥å¼è®¾å¤‡ç½‘ç»œè¿æ¥å¯èƒ½ä¸ç¨³å®š
3. **å»¶è¿Ÿé—®é¢˜**ï¼šç½‘ç»œè¯·æ±‚å¢åŠ è¯­éŸ³æ’­æŠ¥å»¶è¿Ÿ
4. **ç¦»çº¿ä½¿ç”¨**ï¼šäº§å“éœ€è¦æ”¯æŒå®Œå…¨ç¦»çº¿å·¥ä½œ
5. **èµ„æºæ¶ˆè€—**ï¼šç½‘ç»œè¯·æ±‚æ¶ˆè€—é¢å¤–èµ„æº

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. å®Œå…¨ç¦»çº¿TTSæ–¹æ¡ˆ

æˆ‘ä»¬ä¸ºåµŒå…¥å¼ç¡¬ä»¶æä¾›äº†**å®Œå…¨ç¦»çº¿çš„TTSè§£å†³æ–¹æ¡ˆ**ï¼š

#### æ”¯æŒçš„ç¦»çº¿TTSå¼•æ“ï¼š
- **espeak** - è½»é‡çº§ï¼Œæ”¯æŒä¸­æ–‡
- **festival** - é«˜è´¨é‡è¯­éŸ³åˆæˆ
- **ç³»ç»Ÿsayå‘½ä»¤** - ä½œä¸ºå¤‡ç”¨æ–¹æ¡ˆ

#### ç‰¹ç‚¹ï¼š
- âœ… **å®Œå…¨ç¦»çº¿** - æ— éœ€ç½‘ç»œè¿æ¥
- âœ… **ä½å»¶è¿Ÿ** - æœ¬åœ°å¤„ç†ï¼Œå“åº”å¿«é€Ÿ
- âœ… **èµ„æºå‹å¥½** - é€‚åˆåµŒå…¥å¼è®¾å¤‡
- âœ… **é¢„åŠ è½½éŸ³é¢‘** - å¸¸ç”¨è¯­éŸ³é¢„ç”Ÿæˆ
- âœ… **å¼‚æ­¥æ’­æŠ¥** - ä¸é˜»å¡ä¸»ç¨‹åº

### 2. æ¶æ„è®¾è®¡

```
åµŒå…¥å¼ç¡¬ä»¶ (RV1126)
â”œâ”€â”€ ç¦»çº¿TTSå¼•æ“ (espeak/festival)
â”œâ”€â”€ é¢„åŠ è½½éŸ³é¢‘æ–‡ä»¶
â”œâ”€â”€ å®æ—¶è¯­éŸ³ç”Ÿæˆ
â””â”€â”€ å¼‚æ­¥æ’­æŠ¥æœºåˆ¶
```

## ğŸ› ï¸ éƒ¨ç½²æ­¥éª¤

### 1. å®‰è£…ç¦»çº¿TTSå¼•æ“

#### Ubuntu/Debianç³»ç»Ÿï¼š
```bash
# å®‰è£…espeak
sudo apt-get update
sudo apt-get install -y espeak espeak-data
sudo apt-get install -y espeak-zh  # ä¸­æ–‡è¯­éŸ³åŒ…

# å®‰è£…festival (å¯é€‰)
sudo apt-get install -y festival

# å®‰è£…éŸ³é¢‘æ’­æ”¾å·¥å…·
sudo apt-get install -y alsa-utils
```

#### CentOS/RHELç³»ç»Ÿï¼š
```bash
# å®‰è£…espeak
sudo yum update -y
sudo yum install -y espeak espeak-devel
sudo yum install -y espeak-zh

# å®‰è£…festival (å¯é€‰)
sudo yum install -y festival
```

### 2. æµ‹è¯•TTSå¼•æ“

```bash
# æµ‹è¯•espeakä¸­æ–‡è¯­éŸ³
espeak -s 150 -v zh+f3 "æµ‹è¯•ä¸­æ–‡è¯­éŸ³"

# æµ‹è¯•festival
echo "æµ‹è¯•festivalè¯­éŸ³" | festival --tts

# æµ‹è¯•ç³»ç»Ÿsayå‘½ä»¤
say "æµ‹è¯•ç³»ç»Ÿè¯­éŸ³"
```

### 3. é…ç½®Luna Badge

åµŒå…¥å¼ç‰ˆæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨å¯ç”¨çš„ç¦»çº¿TTSå¼•æ“ï¼š

```python
# è‡ªåŠ¨æ£€æµ‹æœ€ä½³è¯­éŸ³å¼•æ“
embedded_tts = EmbeddedTTSSolution()
embedded_tts.initialize()

# è¯­éŸ³æ’­æŠ¥
embedded_tts.speak("å‰æ–¹äººè¾ƒå¤šï¼Œè¯·é è¾¹è¡Œèµ°")

# å¼‚æ­¥è¯­éŸ³æ’­æŠ¥
embedded_tts.speak_async("ç³»ç»Ÿå¯åŠ¨å®Œæˆ")
```

## ğŸ¯ è¯­éŸ³è´¨é‡ä¼˜åŒ–

### 1. è¯­éŸ³å¼•æ“ä¼˜å…ˆçº§
1. **espeakä¸­æ–‡å¥³æ€§è¯­éŸ³** - æœ€ä½³é€‰æ‹©
2. **espeakä¸­æ–‡é»˜è®¤è¯­éŸ³** - å¤‡ç”¨æ–¹æ¡ˆ
3. **festival** - é«˜è´¨é‡é€‰é¡¹
4. **ç³»ç»Ÿsayå‘½ä»¤** - æœ€åå¤‡ç”¨

### 2. é¢„åŠ è½½éŸ³é¢‘æ–‡ä»¶
ç³»ç»Ÿä¼šè‡ªåŠ¨é¢„åŠ è½½å¸¸ç”¨è¯­éŸ³ï¼š
- `crowd_alert.wav` - "å‰æ–¹äººè¾ƒå¤šï¼Œè¯·é è¾¹è¡Œèµ°"
- `system_start.wav` - "ç³»ç»Ÿå¯åŠ¨å®Œæˆ"
- `system_stop.wav` - "ç³»ç»Ÿå·²å…³é—­"
- `safety_alert.wav` - "è¯·æ³¨æ„å®‰å…¨"

### 3. è¯­éŸ³å‚æ•°è°ƒä¼˜
```python
# è¯­é€Ÿè°ƒæ•´
espeak -s 150 -v zh+f3 "æ–‡æœ¬"  # 150è¯/åˆ†é’Ÿ

# éŸ³é‡è°ƒæ•´
espeak -a 100 -v zh+f3 "æ–‡æœ¬"  # éŸ³é‡100%

# éŸ³è°ƒè°ƒæ•´
espeak -p 50 -v zh+f3 "æ–‡æœ¬"   # éŸ³è°ƒ50%
```

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æ–¹æ¡ˆ | ç½‘ç»œä¾èµ– | å»¶è¿Ÿ | èµ„æºæ¶ˆè€— | è¯­éŸ³è´¨é‡ | ç¨³å®šæ€§ |
|------|----------|------|----------|----------|--------|
| Edge-TTS | âŒ éœ€è¦ | é«˜ | é«˜ | ä¼˜ç§€ | ä¾èµ–ç½‘ç»œ |
| espeak | âœ… ç¦»çº¿ | ä½ | ä½ | è‰¯å¥½ | ç¨³å®š |
| festival | âœ… ç¦»çº¿ | ä¸­ | ä¸­ | ä¼˜ç§€ | ç¨³å®š |
| ç³»ç»Ÿsay | âœ… ç¦»çº¿ | ä½ | ä½ | ä¸€èˆ¬ | ç¨³å®š |

## ğŸ”§ æ•…éšœæ’é™¤

### 1. è¯­éŸ³å¼•æ“æœªæ‰¾åˆ°
```bash
# æ£€æŸ¥espeakå®‰è£…
which espeak
espeak --version

# é‡æ–°å®‰è£…
sudo apt-get install --reinstall espeak espeak-data espeak-zh
```

### 2. ä¸­æ–‡è¯­éŸ³ä¸å¯ç”¨
```bash
# å®‰è£…ä¸­æ–‡è¯­éŸ³åŒ…
sudo apt-get install -y espeak-zh

# æµ‹è¯•ä¸­æ–‡è¯­éŸ³
espeak -v zh+f3 "æµ‹è¯•ä¸­æ–‡è¯­éŸ³"
```

### 3. éŸ³é¢‘æ’­æ”¾é—®é¢˜
```bash
# æ£€æŸ¥éŸ³é¢‘è®¾å¤‡
aplay -l

# æµ‹è¯•éŸ³é¢‘æ’­æ”¾
aplay /usr/share/sounds/alsa/Front_Left.wav

# è®¾ç½®é»˜è®¤éŸ³é¢‘è®¾å¤‡
export ALSA_CARD=0
```

## ğŸš€ éƒ¨ç½²å»ºè®®

### 1. ç”Ÿäº§ç¯å¢ƒé…ç½®
- ä½¿ç”¨espeakä¸­æ–‡å¥³æ€§è¯­éŸ³ä½œä¸ºä¸»è¦TTSå¼•æ“
- é¢„åŠ è½½æ‰€æœ‰å¸¸ç”¨éŸ³é¢‘æ–‡ä»¶
- é…ç½®éŸ³é¢‘è®¾å¤‡ä¸ºé»˜è®¤è¾“å‡º
- è®¾ç½®åˆé€‚çš„éŸ³é‡çº§åˆ«

### 2. æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨é¢„åŠ è½½éŸ³é¢‘æ–‡ä»¶å‡å°‘å®æ—¶ç”Ÿæˆ
- å¯ç”¨å¼‚æ­¥è¯­éŸ³æ’­æŠ¥é¿å…é˜»å¡
- è°ƒæ•´è¯­éŸ³å‚æ•°å¹³è¡¡è´¨é‡å’Œæ€§èƒ½

### 3. ç›‘æ§å’Œç»´æŠ¤
- ç›‘æ§TTSå¼•æ“çŠ¶æ€
- å®šæœŸæ£€æŸ¥éŸ³é¢‘æ–‡ä»¶å®Œæ•´æ€§
- è®°å½•è¯­éŸ³æ’­æŠ¥æ—¥å¿—

## ğŸ“ æ€»ç»“

é€šè¿‡ä½¿ç”¨å®Œå…¨ç¦»çº¿çš„TTSè§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬æˆåŠŸè§£å†³äº†Edge-TTSåœ¨åµŒå…¥å¼ç¡¬ä»¶ä¸Šçš„ç½‘ç»œä¾èµ–é—®é¢˜ï¼š

âœ… **å®Œå…¨ç¦»çº¿** - æ— éœ€ç½‘ç»œè¿æ¥  
âœ… **ä½å»¶è¿Ÿ** - æœ¬åœ°å¤„ç†å“åº”å¿«é€Ÿ  
âœ… **èµ„æºå‹å¥½** - é€‚åˆåµŒå…¥å¼è®¾å¤‡  
âœ… **ç¨³å®šå¯é ** - ä¸ä¾èµ–ç½‘ç»œç¨³å®šæ€§  
âœ… **æ˜“äºéƒ¨ç½²** - æ ‡å‡†LinuxåŒ…ç®¡ç†å™¨å®‰è£…  

è¿™ä¸ªè§£å†³æ–¹æ¡ˆç¡®ä¿äº†Lunaå¾½ç« åœ¨åµŒå…¥å¼ç¡¬ä»¶ä¸Šçš„ç¨³å®šè¿è¡Œï¼Œç‰¹åˆ«æ˜¯åœ¨ç½‘ç»œç¯å¢ƒä¸ç¨³å®šçš„æƒ…å†µä¸‹ã€‚
