# ä»»åŠ¡å›¾æ–‡ä»¶æ ‡å‡†åŒ–å®ŒæˆæŠ¥å‘Š

## âœ… å®Œæˆæƒ…å†µ

å·²æˆåŠŸåˆ›å»ºå¹¶æ ‡å‡†åŒ–æ‰€æœ‰ä»»åŠ¡å›¾æ–‡ä»¶ï¼Œç¬¦åˆLuna Badge v1.4ä»»åŠ¡å¼•æ“å­ç³»ç»Ÿè¦æ±‚ã€‚

---

## ğŸ“ å·²åˆ›å»ºçš„ä»»åŠ¡å›¾æ–‡ä»¶

| æ–‡ä»¶å | åœºæ™¯ç±»å‹ | èŠ‚ç‚¹æ•° | è¯´æ˜ |
|--------|----------|--------|------|
| `hospital_visit.json` | hospital | 13 | âœ… åŒ»é™¢å°±è¯Šå®Œæ•´æµç¨‹ï¼ˆæŒ‚å·â†’å°±è¯Šâ†’å–è¯â†’ç¦»å¼€ï¼‰ |
| `government_service.json` | government | 12 | âœ… æ”¿åŠ¡æœåŠ¡æµç¨‹ï¼ˆåŠè¯æµç¨‹ï¼‰ |
| `shopping_mall.json` | retail | 12 | âœ… è´­ç‰©æµç¨‹ï¼ˆè§„åˆ’â†’è´­ç‰©â†’ç»“è´¦ï¼‰ |
| `buy_snack.json` | retail | 4 | âœ… ä¸´æ—¶æ’å…¥ä»»åŠ¡ç¤ºä¾‹ï¼ˆè´­ä¹°é›¶é£Ÿï¼‰ |
| `sample_inserted_task.json` | emergency | 3 | âœ… é€šç”¨æ’å…¥ä»»åŠ¡æ¨¡æ¿ |
| `task_graph_template.json` | custom | 6 | âœ… ä»»åŠ¡å›¾æ–‡ä»¶æ¨¡æ¿ï¼ˆä¾›æ–°å»ºå‚è€ƒï¼‰ |

---

## ğŸ“‹ æ ‡å‡†æ ¼å¼å­—æ®µ

### é¡¶å±‚å¿…éœ€å­—æ®µ

- âœ… `graph_id` - ä»»åŠ¡é“¾å”¯ä¸€æ ‡è¯†
- âœ… `scene_type` - åœºæ™¯ç±»åˆ«ï¼ˆhospital/government/retail/transport/customï¼‰
- âœ… `goal` - ä»»åŠ¡ç›®æ ‡æè¿°
- âœ… `nodes` - ä»»åŠ¡èŠ‚ç‚¹åˆ—è¡¨ï¼ˆè‡³å°‘1ä¸ªï¼‰

### å¯é€‰å­—æ®µ

- `entry_trigger` - è§¦å‘ä»»åŠ¡çš„ç”¨æˆ·è¯­å¥
- `target` - ç›®æ ‡ä¿¡æ¯ï¼ˆåœ°ç‚¹ã€æœåŠ¡ç±»å‹ï¼‰
- `edges` - èŠ‚ç‚¹è¿æ¥å…³ç³»ï¼ˆå¯é€‰ï¼Œé»˜è®¤é¡ºåºè¿æ¥ï¼‰
- `metadata` - å…ƒæ•°æ®ä¿¡æ¯

### èŠ‚ç‚¹å¿…éœ€å­—æ®µ

- âœ… `id` - èŠ‚ç‚¹å”¯ä¸€æ ‡è¯†
- âœ… `type` - èŠ‚ç‚¹ç±»å‹ï¼ˆinteraction/navigation/observationç­‰ï¼‰
- âœ… `title` - èŠ‚ç‚¹æ ‡é¢˜
- âœ… `status` - èŠ‚ç‚¹çŠ¶æ€ï¼ˆpending/running/completed/failedï¼‰

---

## ğŸ¯ æ”¯æŒçš„èŠ‚ç‚¹ç±»å‹

| èŠ‚ç‚¹ç±»å‹ | ç”¨é€” | ç¤ºä¾‹ |
|---------|------|------|
| `interaction` | ç”¨æˆ·äº¤äº’ | è¯¢é—®ç”¨æˆ·ã€è·å–ç¡®è®¤ |
| `navigation` | å¯¼èˆªä»»åŠ¡ | è§„åˆ’è·¯çº¿ã€æ‰§è¡Œå¯¼èˆª |
| `observation` | è§‚å¯Ÿè¯†åˆ« | OCRè¯†åˆ«ã€è§†è§‰æ£€æµ‹ |
| `condition_check` | æ¡ä»¶æ£€æŸ¥ | æ£€æŸ¥å‰ç½®æ¡ä»¶ |
| `external_call` | å¤–éƒ¨æœåŠ¡ | è°ƒç”¨å¤–éƒ¨API/æœåŠ¡ |
| `memory_action` | è®°å¿†æ“ä½œ | ä¿å­˜/è¯»å–è®°å¿† |

---

## ğŸ“ æ–‡ä»¶ç»“æ„ç¤ºä¾‹

```json
{
  "graph_id": "hospital_visit",
  "scene_type": "hospital",
  "goal": "å®Œæˆä¸€æ¬¡åŒ»é™¢å°±è¯Šæµç¨‹",
  "entry_trigger": "ç”¨æˆ·è¯´ï¼šæˆ‘è¦å»åŒ»é™¢",
  "target": {
    "location": "è™¹å£åŒ»é™¢",
    "department": "ç‰™ç§‘"
  },
  "nodes": [
    {
      "id": "confirm_hospital",
      "type": "interaction",
      "title": "ç¡®è®¤ç›®æ ‡åŒ»é™¢",
      "expected_input": "åŒ»é™¢åç§°æˆ–çœ‹ç—…éœ€æ±‚",
      "output": "è™¹å£åŒ»é™¢",
      "config": {
        "question": "è¯·é—®æ‚¨è¦å»å“ªå®¶åŒ»é™¢ï¼Ÿ",
        "options": ["è™¹å£åŒ»é™¢", "å…¶ä»–åŒ»é™¢", "ä¸çŸ¥é“"]
      },
      "status": "pending",
      "timeout": 60
    }
    // ... æ›´å¤šèŠ‚ç‚¹
  ],
  "edges": [
    {"from": "node_001", "to": "node_002"}
  ],
  "metadata": {
    "estimated_duration": 120,
    "complexity": "high",
    "user_interaction_level": "high",
    "ai_assistance_level": "high",
    "insertable_tasks": ["toilet", "snack", "rest"],
    "version": "1.0"
  }
}
```

---

## âœ… éªŒè¯ç»“æœ

```
âœ… buy_snack.json - æ ¼å¼æ­£ç¡®
âœ… government_service.json - æ ¼å¼æ­£ç¡®
âœ… hospital_visit.json - æ ¼å¼æ­£ç¡®
âœ… sample_inserted_task.json - æ ¼å¼æ­£ç¡®
âœ… shopping_mall.json - æ ¼å¼æ­£ç¡®
âœ… task_graph_template.json - æ ¼å¼æ­£ç¡®

ğŸ‰ æ‰€æœ‰ä»»åŠ¡å›¾æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼
```

---

## ğŸ“š æ–‡æ¡£èµ„æº

- âœ… `task_graphs/README.md` - æ ‡å‡†æ ¼å¼è¯´æ˜æ–‡æ¡£
- âœ… `task_graph_template.json` - æ¨¡æ¿æ–‡ä»¶
- âœ… æ‰€æœ‰ç¤ºä¾‹æ–‡ä»¶å·²å®Œæ•´å®ç°

---

## ğŸš€ ä½¿ç”¨æ–¹å¼

### åŠ è½½ä»»åŠ¡å›¾

```python
from task_engine import get_task_engine

engine = get_task_engine()
task_graph = engine.load_task_graph("task_graphs/hospital_visit.json")

print(f"ä»»åŠ¡ID: {task_graph.graph_id}")
print(f"åœºæ™¯: {task_graph.scene_type}")
print(f"ç›®æ ‡: {task_graph.goal}")
print(f"èŠ‚ç‚¹æ•°: {len(task_graph.nodes)}")
```

### åˆ›å»ºæ–°ä»»åŠ¡å›¾

1. å¤åˆ¶ `task_graph_template.json`
2. ä¿®æ”¹ `graph_id`ã€`scene_type`ã€`goal`
3. æ·»åŠ /ä¿®æ”¹èŠ‚ç‚¹åˆ—è¡¨
4. å®šä¹‰èŠ‚ç‚¹è¿æ¥å…³ç³»ï¼ˆedgesï¼‰
5. å¡«å†™å…ƒæ•°æ®

---

## ğŸ¯ å…³é”®ç‰¹æ€§

- âœ… **æ ‡å‡†åŒ–æ ¼å¼** - æ‰€æœ‰æ–‡ä»¶éµå¾ªç»Ÿä¸€æ ¼å¼
- âœ… **å®Œæ•´éªŒè¯** - è‡ªåŠ¨æ ¡éªŒå¿…éœ€å­—æ®µ
- âœ… **å¤šåœºæ™¯æ”¯æŒ** - åŒ»é™¢ã€æ”¿åŠ¡ã€è´­ç‰©ç­‰åœºæ™¯
- âœ… **æ¨¡æ¿æ–‡ä»¶** - æä¾›æ¨¡æ¿ä¾¿äºå¿«é€Ÿåˆ›å»º
- âœ… **æ–‡æ¡£å®Œå–„** - è¯¦ç»†çš„æ ¼å¼è¯´æ˜æ–‡æ¡£

---

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

- **æ€»æ–‡ä»¶æ•°**: 6ä¸ªJSONæ–‡ä»¶
- **æ€»èŠ‚ç‚¹æ•°**: 56ä¸ªèŠ‚ç‚¹
- **åœºæ™¯ç±»å‹**: 5ç§ï¼ˆhospital/government/retail/emergency/customï¼‰
- **æ–‡æ¡£**: 1ä¸ªREADMEè¯´æ˜æ–‡æ¡£

---

## ğŸ”® åç»­å»ºè®®

1. âœ… **å·²å®Œæˆ** - åˆ›å»ºæ ‡å‡†æ ¼å¼æ¨¡æ¿
2. **ä¸‹ä¸€æ­¥** - æ„å»ºä»»åŠ¡è°ƒåº¦é€»è¾‘ä¸çŠ¶æ€è®°å½•æ¨¡å—æ¥å£è¯´æ˜
3. **æœªæ¥** - æ”¯æŒæ¡ä»¶åˆ†æ”¯ã€å¾ªç¯èŠ‚ç‚¹ç­‰é«˜çº§åŠŸèƒ½

---

**ä»»åŠ¡å›¾æ–‡ä»¶æ ‡å‡†åŒ–å·¥ä½œå®Œæˆï¼** ğŸ‰

æ‰€æœ‰æ–‡ä»¶å·²é€šè¿‡éªŒè¯ï¼Œå¯ç›´æ¥ç”¨äºä»»åŠ¡å¼•æ“æ‰§è¡Œï¼

